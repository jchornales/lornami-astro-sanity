---
import Envelope from "../../assets/icons/Envelope.astro";
import Phone from "../../assets/icons/Phone.astro";
import MapPin from "../../assets/icons/MapPin.astro";
import { useLoadQuery } from "../../sanity/lib/useLoadQuery";
import type { SanityDocument } from "@sanity/client";
import "@styles/Footer.css";

const { data: information } = await useLoadQuery<SanityDocument[]>({
  query: `*[_type == "brandInformation"]`,
});

const { emailAddress, address, phoneNumber, instagram, facebook, disclaimer } =
  information[0];

const details = [
  {
    key: "email",
    value: emailAddress,
    icon: Envelope,
    iconClass: "information-icon size-5",
  },
  {
    key: "phone-number",
    value: phoneNumber,
    icon: Phone,
    iconClass: "information-icon size-5",
  },
  {
    key: "address",
    value: address,
    icon: MapPin,
    iconClass: "information-icon size-5",
  },
];

console.log(details);
---

<footer class="footer">
  <div class="contact-me">
    <h3>Contact Information</h3>
    {
      details?.map((detail) => (
        <p class="detail">
          <detail.icon className={detail.iconClass} />
          <span> &#58; </span>
          <span>{detail.value}</span>
        </p>
      ))
    }
  </div>
  <div class="services">
    <h3>Current availability</h3>
    <p>
      {disclaimer}
    </p>
  </div>
  <div class="follow-me">
    <h3>Follow us on</h3>
    <ul class="soc-list">
      <li>
        <a href={facebook}>Facebook</a>
      </li>
      <li>
        <a href={instagram}>Instagram</a>
      </li>
    </ul>
  </div>
  <div class="developer-brand">
    <p><i class="fa fa-copyright"></i>Justine Hornales</p>
    <p>Made with â™¥ in Pampanga, Philippines</p>
  </div>
</footer>
